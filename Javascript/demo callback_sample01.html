<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>비동기 작업에 대한 이해</h1>
  <script>
  
  
  /*
    콜백은 작업이 끝나기 전에 함수가 실행되는 것을 보장한다.
    즉 작업이 끝난 후에 실행이 되는 의미이다.
    콜백은 비동기 코드를 작성 할 수 있도록 해주고, 여러문제와 에러들로부터 
    안전하게 해준다.

    비동기 작업(callback, promise, async/ await)으로 주로 처리 하는것.
    - Ajax 요청작업.
    - 파일 읽기
    - 암호화/ 복호화
    - 작업예약
  */

    //작업시간(실행시간) 측정
    
    // 1) 동기화
  /*  function work() {
      const start = Date.now(); // 시작시간 체크
      for(let i=0; i<1000000000; i++) { } // 작업, 공회전. 왜냐. 출력할 것이 없으므로
      const end = Date.now(); // 종료시간 체크
      console.log(end - start + "ms");
    } 

    work(); 
    // work();의 작업이 끝나기 전 까진 하단의 콘솔 로그가 실행될 수 없음.
    console.log("다음 작업");
  */
    // 2) 비동기화


    // 콜백을 사용 하는 이유.
    function work(callback) {
      setTimeout(() => {
      const start = Date.now(); // 시작시간 체크
      for(let i=0; i<1000000000; i++) { } // 작업, 공회전. 왜냐. 출력할 것이 없으므로
      const end = Date.now(); // 종료시간 체크
      console.log(end - start + "ms");
      callback(); // callback 파라미터를 사용 할 경우, work  외부에서도 함수를 제어할 수 있다.
      // 만일 고정값 함수가 있을 경우에는, work 내부에서만 동작 하므로, 밖에서 제어가 불가능하다.
      // 즉 함수가 다양한 범위로 광범위 하게 사용되는 경우, callback을 이용해서 함수와 함수를
      // 연계해서 사용할 수 있다.
      }, 0)
    }
    console.log("작업 시작");
    // 이 작업이 완료 되었을떄, 마무리로 하는 작업을 추가할 경우
    work(() => {
        console.log("작업이 종료되었습니다.");
      }); 
    console.log("다음 작업");


  
  </script>
</body>
</html>